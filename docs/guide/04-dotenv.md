# Step 4 ‚Äî dotenv (Environment Variables)

> üéØ **Analogy:** `.env` ‡∏Ñ‡∏∑‡∏≠ "‡∏Å‡∏∏‡∏ç‡πÅ‡∏à" ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏•‡∏¥‡πâ‡∏ô‡∏ä‡∏±‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß ‚Äî ‡πÇ‡∏Ñ‡πâ‡∏î (GitHub) ‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà "‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏Å‡∏∏‡∏ç‡πÅ‡∏à" ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Hardcode

‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Database password ‡∏ï‡∏£‡∏á‡πÜ ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

```js
// ‚ùå ‡∏≠‡∏¢‡πà‡∏≤‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ!
const pool = mysql.createPool({
  host: '127.0.0.1',
  user: 'root',
  password: 'mySecretPassword123',  // password ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î!
  database: '04_module_c'
})
```

‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤ push ‡∏Ç‡∏∂‡πâ‡∏ô GitHub ‚Äî **‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô password** ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß redeploy ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

**Environment Variables** ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ ‚Äî ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏¢‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏ó‡∏µ‡πà **‡πÑ‡∏°‡πà push ‡∏Ç‡∏∂‡πâ‡∏ô Git**

## ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dotenv

```bash
npm install dotenv
```

`dotenv` ‡∏Ñ‡∏∑‡∏≠ library ‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏™‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô `process.env` ‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ

## ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env`

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏ó‡∏µ‡πà root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ:

```bash
DB_HOST=127.0.0.1
DB_USER=root
DB_PASSWORD=
DB_NAME=04_module_c
PORT=3000
```

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `DB_HOST` ‚Äî ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á MySQL Server (localhost ‡πÉ‡∏ä‡πâ `127.0.0.1`)
- `DB_USER` ‚Äî username ‡∏Ç‡∏≠‡∏á MySQL (XAMPP default ‡∏Ñ‡∏∑‡∏≠ `root`)
- `DB_PASSWORD` ‚Äî password (XAMPP default ‡πÑ‡∏°‡πà‡∏°‡∏µ password ‚Üí ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤)
- `DB_NAME` ‚Äî ‡∏ä‡∏∑‡πà‡∏≠ database ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô Step 1
- `PORT` ‚Äî port ‡∏ó‡∏µ‡πà server ‡∏à‡∏∞‡∏£‡∏±‡∏ô

## ‡πÄ‡∏û‡∏¥‡πà‡∏° `.env` ‡πÉ‡∏ô `.gitignore`

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.gitignore` ‡∏ó‡∏µ‡πà root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ:

```
node_modules/
.env
uploads/
```

::: warning ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å
‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `.env` ‡πÉ‡∏ô `.gitignore` ‡∏Å‡πà‡∏≠‡∏ô commit ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏™‡∏°‡∏≠ ‡∏ñ‡πâ‡∏≤‡∏•‡∏∑‡∏°‡πÅ‡∏•‡∏∞ push ‡∏Ç‡∏∂‡πâ‡∏ô Git ‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö‡∏≠‡∏≠‡∏Å ‡∏ã‡∏∂‡πà‡∏á‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å‡∏°‡∏≤‡∏Å
:::

::: tip üí° ‡∏™‡∏£‡πâ‡∏≤‡∏á `.env.example` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô Template ‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏°
`.env` ‡∏´‡πâ‡∏≤‡∏° push ‡∏Ç‡∏∂‡πâ‡∏ô Git ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô‡∏ó‡∏µ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á ‚Äî ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á `.env.example` ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á:

```bash
# .env.example ‚Äî ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ push ‡∏Ç‡∏∂‡πâ‡∏ô Git ‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á)
DB_HOST=
DB_USER=
DB_PASSWORD=
DB_NAME=
PORT=
```

‡πÄ‡∏ß‡∏•‡∏≤ clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ‡πÉ‡∏´‡∏°‡πà ‚Üí copy `.env.example` ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô `.env` ‚Üí ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á
:::

## ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `app.js` ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ dotenv

‡πÅ‡∏Å‡πâ `app.js` ‚Äî ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠:

```js
require('dotenv').config()    // ‚Üê ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å! ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å .env ‡πÄ‡∏Ç‡πâ‡∏≤ process.env

const express = require('express')
const app = express()

// ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å .env ‡∏ú‡πà‡∏≤‡∏ô process.env
const PORT = process.env.PORT || 3000

app.get('/', (_req, res) => {
  // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å .env ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á
  res.json({
    message: 'Hello!',
    db_name: process.env.DB_NAME
  })
})

app.listen(PORT, () => {
  console.log(`Server running on http://localhost:${PORT}`)
})
```

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `require('dotenv').config()` ‚Äî ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡πâ‡∏≤ `process.env`
- `process.env.PORT` ‚Äî ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ `PORT` ‡∏à‡∏≤‡∏Å `.env`
- `|| 3000` ‚Äî ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ `PORT` ‡πÉ‡∏ô `.env` ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ `3000` ‡πÄ‡∏õ‡πá‡∏ô default

::: tip üí° `process.env` ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô String ‡πÄ‡∏™‡∏°‡∏≠
‡πÅ‡∏°‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô `.env` ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô String:
```js
// .env: PORT=3000
typeof process.env.PORT  // ‚Üí "string" ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà number!
```
`|| 3000` ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ JS coerce ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ number ‡∏à‡∏£‡∏¥‡∏á‡πÜ:
```js
const PORT = parseInt(process.env.PORT) || 3000
```
:::

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```bash
npm run dev
```

‡πÄ‡∏õ‡∏¥‡∏î Postman ‡∏´‡∏£‡∏∑‡∏≠ Browser: `GET http://localhost:3000`

::: details ‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
```json
{
  "message": "Hello!",
  "db_name": "04_module_c"
}
```
‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡πà‡∏≤ `db_name` ‡∏à‡∏≤‡∏Å `.env` ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ dotenv ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚úÖ
:::

## Glossary

| ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ |
|:--------|:---------|
| **Environment Variable** | ‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏ô‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏° environment ‡πÑ‡∏î‡πâ |
| **process.env** | Object ‡∏Ç‡∏≠‡∏á Node.js ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö Environment Variables ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **Hardcode** | ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏•‡∏á‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡πÑ‡∏°‡πà‡∏î‡∏µ) |
| **Git** | Version control system ‚Äî ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î |
| **.gitignore** | ‡πÑ‡∏ü‡∏•‡πå‡∏ö‡∏≠‡∏Å Git ‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á track |
| **dotenv** | Library ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÄ‡∏Ç‡πâ‡∏≤ `process.env` |
| **.env.example** | Template ‡∏Ç‡∏≠‡∏á `.env` ‡∏ó‡∏µ‡πà push ‡∏Ç‡∏∂‡πâ‡∏ô Git ‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á) |
| **parseInt()** | JavaScript function ‡πÅ‡∏õ‡∏•‡∏á String ‡πÄ‡∏õ‡πá‡∏ô Integer ‡πÄ‡∏ä‡πà‡∏ô `"3000"` ‚Üí `3000` |
